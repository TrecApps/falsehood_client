<h2>Region</h2>

<div *ngIf="!createNew">

<div>
  <button *ngIf="token.credit >= 35" class="btn bg-info" (click)="startCreateNew()">Create New</button>
  <label>Search Region</label>
  <input type="search" (change)="onSearchUpdate($event)" [(ngModel)]="searchText" placeholder="Search Region">

  <ul *ngFor="let region of searchRegion">
    <li (click)="getRegion(region.id)">Region: {{region.name}}</li>
  </ul>
</div>

<div *ngIf="mainRegion">
  <h3>Title: {{mainRegion.region.name}}</h3>

  <button class="btn bg-info" (click)="setMode(1)">Wiki</button>
  <button class="btn bg-info" (click)="setMode(2)">Public Falsehoods</button>

  <div *ngIf="mode==1" [innerHTML]="mainRegion.contents | marked">

  </div>
  <div *ngIf="mode==2">
    <app-public-falsehood-search></app-public-falsehood-search>
  </div>
</div>

</div>

<div *ngIf="token.credit >= 35 && createNew">

  <label>Name</label>
  <input type="text" [(ngModel)]="editName">
  <textarea [(ngModel)]="editContents"></textarea>


  <div [innerHTML]="editContents | marked"></div>

  <button class="btn bg-info" (click)="addNewReg()">Submit</button>
  <button class="btn bg-info" (click)="stopCreateNew()">Cancel</button>
</div>